"use strict";function minimalPathFilter(e){return![/e2e\//,/editorconfig/,/README/,/karma.conf.js/,/protractor.conf.js/,/test.ts/,/tsconfig.spec.json/,/tslint.json/,/favicon.ico/].some(t=>t.test(e))}function default_1(e){return(t,s)=>{const i=`${e.prefix}-root`,c=e.minimal?{inlineStyle:!0,inlineTemplate:!0,spec:!1,styleext:e.style}:{inlineStyle:e.inlineStyle,inlineTemplate:e.inlineTemplate,spec:!e.skipTests,styleext:e.style},a=e.sourceDir||"src";let r;return e.skipInstall||(r=s.addTask(new tasks_1.NodePackageInstallTask(e.directory)),e.linkCli&&(r=s.addTask(new tasks_1.NodePackageLinkTask("@angular/cli",e.directory),[r]))),e.skipGit||s.addTask(new tasks_1.RepositoryInitializerTask(e.directory,e.commit),r?[r]:[]),schematics_1.chain([schematics_1.mergeWith(schematics_1.apply(schematics_1.url("./files"),[e.minimal?schematics_1.filter(minimalPathFilter):schematics_1.noop(),e.skipGit?schematics_1.filter(e=>!e.endsWith("/__dot__gitignore")):schematics_1.noop(),e.serviceWorker?schematics_1.noop():schematics_1.filter(e=>!e.endsWith("/ngsw-config.json")),schematics_1.template(Object.assign({utils:core_1.strings},e,{dot:".",sourcedir:a})),schematics_1.move(e.directory)])),schematics_1.schematic("module",{name:"app",commonModule:!1,flat:!0,routing:e.routing,routingScope:"Root",path:e.path,sourceDir:e.directory+"/"+a,spec:!1}),schematics_1.schematic("component",Object.assign({name:"app",selector:i,sourceDir:e.directory+"/"+a,flat:!0,path:e.path,skipImport:!0},c)),schematics_1.mergeWith(schematics_1.apply(schematics_1.url("./other-files"),[c.inlineTemplate?schematics_1.filter(e=>!e.endsWith(".html")):schematics_1.noop(),c.spec?schematics_1.noop():schematics_1.filter(e=>!e.endsWith(".spec.ts")),schematics_1.template(Object.assign({utils:core_1.strings},e,{selector:i},c)),schematics_1.move(e.directory+"/"+a+"/app")]),schematics_1.MergeStrategy.Overwrite)])(t,s)}}Object.defineProperty(exports,"__esModule",{value:!0});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const core_1=require("@angular-devkit/core"),schematics_1=require("@angular-devkit/schematics"),tasks_1=require("@angular-devkit/schematics/tasks");exports["default"]=default_1;